let level=0;var pos1=125,pos2=70,pos3=180;const healthDiv=document.getElementById("healthDiv"),amtHealth=document.getElementById("amtHealth");let Health=100;const faileddiv=document.getElementById("Failed");document.getElementById("Tryagain").addEventListener("mouseup",(()=>{location.reload()}));const wondiv=document.getElementById("Won");var levels=[{cubes:[cube1=new theBombCreator(pos1,0,1,1e3),cube2=new theCubeCreator(pos3,0,2,2e3),cube3=new theCubeCreator(pos2,0,1,3e3),cube4=new theCubeCreator(pos3,0,1,4e3),cube5=new theCubeCreator(pos1,0,1,4e3),cube6=new theCubeCreator(pos1,0,1,5e3),cube7=new theCubeCreator(pos3,0,2,6e3),cube8=new theBombCreator(pos2,0,1,7e3),cube9=new theCubeCreator(pos3,0,1,8e3),cube10=new theCubeCreator(pos1,0,2,9e3),finishcube=new theCubeCreator(pos3,0,4,1e4)],Update(e){null==this.cubes[10]&&(wondiv.style.display="inherit");for(let t=0;t<this.cubes.length;t++)null!=this.cubes[t]&&(this.cubes[t].y>150?(1==this.cubes[t].isBomb||this.cubes[t].isBomb&&null==this.cubes[t]||(Health-=20,amtHealth.textContent=Health),delete this.cubes[t]):this.cubes[t].update(e));for(let e=0;e<this.cubes.length;e++)null!=this.cubes[e]&&(0==this.cubes[e].position()&&character.pressingkeydown||1==this.cubes[e].position()&&character.pressingkeyleft?character.iscolliding(this.cubes[e],this.cubes[e].position())&&(1==this.cubes[e].isBomb?(delete this.cubes[e],Health-=50,amtHealth.textContent=Health):(delete this.cubes[e],console.log("pressed down"),console.log("deleted cube"))):2==this.cubes[e].position()&&character.pressingkeyright&&character.iscolliding(this.cubes[e],this.cubes[e].position())&&(1==this.cubes[e].isBomb?(delete this.cubes[e],Health-=50,amtHealth.textContent=Health):(delete this.cubes[e],console.log("pressed down"),console.log("deleted cube"))))},draw(e){for(let t=0;t<this.cubes.length;t++)null!=this.cubes[t]&&this.cubes[t].draw(e)}},{cubes:[cube0=new theBombCreator(pos1,0,2,1),cube1=new theCubeCreator(pos1,0,2,1e3),cube2=new theCubeCreator(pos3,0,3,2e3),cube3=new theCubeCreator(pos2,0,2,3e3),cube4=new theCubeCreator(pos3,0,2,4e3),cube5=new theBombCreator(pos1,0,2,4e3),cube6=new theCubeCreator(pos1,0,2,5e3),cube7=new theCubeCreator(pos3,0,3,6e3),cube8=new theCubeCreator(pos2,0,2,7e3),cube9=new theCubeCreator(pos3,0,2,8e3),cube10=new theCubeCreator(pos1,0,3,9e3),cube11=new theCubeCreator(pos1,0,3,4e3),cube12=new theCubeCreator(pos1,0,3,5e3),cube13=new theCubeCreator(pos3,0,4,6e3),cube14=new theCubeCreator(pos2,0,3,7e3),cube15=new theCubeCreator(pos3,0,3,8e3),cube16=new theBombCreator(pos1,0,3,9e3),cube17=new theCubeCreator(pos1,0,2,1e4),cube18=new theCubeCreator(pos3,0,3,11e3),cube19=new theCubeCreator(pos2,0,2,12e3),cube20=new theCubeCreator(pos3,0,2,13e3),cube21=new theCubeCreator(pos1,0,2,14e3),cube22=new theCubeCreator(pos1,0,2,14e3),cube23=new theCubeCreator(pos3,0,3,15e3),cube23=new theCubeCreator(pos2,0,2,16e3),cube24=new theBombCreator(pos3,0,2,16e3),cube25=new theCubeCreator(pos1,0,3,16e3),cube26=new theCubeCreator(pos1,0,3,17e3),cube27=new theCubeCreator(pos1,0,3,18e3),cube28=new theCubeCreator(pos3,0,4,19e3),cube29=new theCubeCreator(pos2,0,3.5,2e4),cube30=new theCubeCreator(pos3,0,3.5,21e3),cube31=new theCubeCreator(pos1,0,3.5,22e3),cube32=new theBombCreator(pos1,0,3,23e3),cube33=new theBombCreator(pos3,0,3,23e3),cube34=new theCubeCreator(pos2,0,3,24e3),cube35=new theCubeCreator(pos3,0,3,24e3),cube36=new theCubeCreator(pos1,0,3,25e3),cube37=new theCubeCreator(pos1,0,3,26e3),cube38=new theCubeCreator(pos3,0,3.5,26e3),cube39=new theBombCreator(pos2,0,5,27e3),cube40=new theCubeCreator(pos3,0,3,28e3),cube41=new theCubeCreator(pos1,0,3,29e3),cube42=new theCubeCreator(pos1,0,3.5,3e4),cube43=new theCubeCreator(pos1,0,3,31e3),cube44=new theCubeCreator(pos3,0,5,32e3),cube45=new theCubeCreator(pos2,0,3.5,33e3),cube46=new theCubeCreator(pos3,0,3,33e3),cube47=new theCubeCreator(pos1,0,4,34e3),finishcube=new theCubeCreator(pos3,0,5,35e3)],Update(e){null==this.cubes[49]&&(wondiv.style.display="inherit");for(let t=0;t<this.cubes.length;t++)null!=this.cubes[t]&&(this.cubes[t].y>150?(1==this.cubes[t].isBomb||this.cubes[t].isBomb&&null==this.cubes[t]||(Health-=20,amtHealth.textContent=Health),delete this.cubes[t]):this.cubes[t].update(e));for(let e=0;e<this.cubes.length;e++)null!=this.cubes[e]&&(0==this.cubes[e].position()&&character.pressingkeydown||1==this.cubes[e].position()&&character.pressingkeyleft?character.iscolliding(this.cubes[e],this.cubes[e].position())&&(1==this.cubes[e].isBomb?(delete this.cubes[e],Health-=50,amtHealth.textContent=Health):(delete this.cubes[e],console.log("pressed down"),console.log("deleted cube"))):2==this.cubes[e].position()&&character.pressingkeyright&&character.iscolliding(this.cubes[e],this.cubes[e].position())&&(1==this.cubes[e].isBomb?(delete this.cubes[e],Health-=50,amtHealth.textContent=Health):(delete this.cubes[e],console.log("pressed down"),console.log("deleted cube"))))},draw(e){for(let t=0;t<this.cubes.length;t++)null!=this.cubes[t]&&this.cubes[t].draw(e)}},{cubes:[cube1=new theBombCreator(pos1,0,3,4e3),cube1=new theBombCreator(pos1,0,3,3400),cube1=new theBombCreator(pos1,0,3,2200),cube1=new theBombCreator(pos1,0,3,1e3),cube1=new theCubeCreator(pos2,0,2,1e3),cube1=new theCubeCreator(pos1,0,2,1200),cube1=new theCubeCreator(pos3,0,2,1400),cube1=new theCubeCreator(pos1,0,2,1600),cube1=new theCubeCreator(pos2,0,2,1800),cube1=new theCubeCreator(pos1,0,2,2e3),cube1=new theCubeCreator(pos3,0,2,2200),cube1=new theCubeCreator(pos1,0,2,2400),cube1=new theCubeCreator(pos2,0,2,2600),cube1=new theCubeCreator(pos1,0,2,2800),cube1=new theCubeCreator(pos3,0,2,3e3),cube1=new theCubeCreator(pos1,0,2,3200),cube1=new theCubeCreator(pos2,0,2,3400),cube1=new theCubeCreator(pos1,0,2,3600),cube1=new theCubeCreator(pos3,0,2,3800),cube1=new theCubeCreator(pos1,0,2,4e3)],Update(e){null==this.cubes[20]&&(wondiv.style.display="inherit");for(let t=0;t<this.cubes.length;t++)null!=this.cubes[t]&&(this.cubes[t].y>150?(1==this.cubes[t].isBomb||this.cubes[t].isBomb&&null==this.cubes[t]||(Health-=20,amtHealth.textContent=Health),delete this.cubes[t]):this.cubes[t].update(e));for(let e=0;e<this.cubes.length;e++)null!=this.cubes[e]&&(0==this.cubes[e].position()&&character.pressingkeydown||1==this.cubes[e].position()&&character.pressingkeyleft?character.iscolliding(this.cubes[e],this.cubes[e].position())&&(1==this.cubes[e].isBomb?(delete this.cubes[e],Health-=50,amtHealth.textContent=Health):(delete this.cubes[e],console.log("pressed down"),console.log("deleted cube"))):2==this.cubes[e].position()&&character.pressingkeyright&&character.iscolliding(this.cubes[e],this.cubes[e].position())&&(1==this.cubes[e].isBomb?(delete this.cubes[e],Health-=50,amtHealth.textContent=Health):(delete this.cubes[e],console.log("pressed down"),console.log("deleted cube"))))},draw(e){for(let t=0;t<this.cubes.length;t++)null!=this.cubes[t]&&this.cubes[t].draw(e)}}];const Level1Start=document.getElementById("Level1").addEventListener("mouseup",(()=>{healthDiv.style.display="inherit",lastTime=0,console.log("Picked Level 1"),LevelSelectorDiv.style.display="none",GameScreen.style.display="inherit",UPDATE(),level=1})),Level2Start=document.getElementById("Level2").addEventListener("mouseup",(()=>{healthDiv.style.display="inherit",lastTime=0,console.log("Picked Level 2"),LevelSelectorDiv.style.display="none",GameScreen.style.display="inherit",UPDATE(),level=2})),Level3Start=document.getElementById("Level3").addEventListener("mouseup",(()=>{healthDiv.style.display="inherit",lastTime=0,console.log("Picked Level 3"),LevelSelectorDiv.style.display="none",GameScreen.style.display="inherit",UPDATE(),level=3}));let doneonesec=!1,lastTime=0,isinlevel=!0;var character=new arrowkeys;function UPDATE(e){let t=e-lastTime;lastTime=e,0==character.pressingkeydown&&ctx.clearRect(125,121,50,10),0==character.pressingkeyright&&ctx.clearRect(180,121,50,10),0==character.pressingkeyleft&&ctx.clearRect(70,121,50,10);for(let e=level-1;e==level-1;e++)null!=levels[e]&&(Health<=0&&(faileddiv.style.display="inherit",isinlevel=!1),levels[e].Update(t),ctx.clearRect(0,0,300,800),character.draw(ctx),levels[e].draw(ctx));1==isinlevel&&requestAnimationFrame(UPDATE)}
